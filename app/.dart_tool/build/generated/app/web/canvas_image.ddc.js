// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.7.3 (stable) (Wed Apr 16 14:06:32 2025 -0700) on "windows_x64"
// Module: web/canvas_image
// Flags: soundNullSafety(true), enableAsserts(true)
define(['dart_sdk', 'packages/web/src/dom', 'packages/web/web'], (function load__web__canvas_image(dart_sdk, packages__web__src__dom, packages__web__web) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const js_util = dart_sdk.js_util;
  const js_interop = dart_sdk.js_interop;
  const collection = dart_sdk.collection;
  const _interceptors = dart_sdk._interceptors;
  const _js_helper = dart_sdk._js_helper;
  const async = dart_sdk.async;
  const math = dart_sdk.math;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const html = packages__web__src__dom.src__dom__html;
  const events = packages__web__web.src__helpers__events__events;
  var loader = Object.create(dart.library);
  var validator = Object.create(dart.library);
  var color_extractor = Object.create(dart.library);
  var type_detector = Object.create(dart.library);
  var copy_clipboard = Object.create(dart.library);
  var session_manager = Object.create(dart.library);
  var main = Object.create(dart.library);
  var canvas_image = Object.create(dart.library);
  var $modulo = dartx['%'];
  var $times = dartx['*'];
  var $trim = dartx.trim;
  var $isEmpty = dartx.isEmpty;
  var $_get = dartx._get;
  var $_set = dartx._set;
  var $map = dartx.map;
  var $toList = dartx.toList;
  var $toRadixString = dartx.toRadixString;
  var $padLeft = dartx.padLeft;
  var $length = dartx.length;
  var $add = dartx.add;
  var $compareTo = dartx.compareTo;
  var $sort = dartx.sort;
  var $truncate = dartx.truncate;
  var $sublist = dartx.sublist;
  var $addAll = dartx.addAll;
  var $fold = dartx.fold;
  var $round = dartx.round;
  var $toInt = dartx.toInt;
  var $reduce = dartx.reduce;
  var $split = dartx.split;
  var $last = dartx.last;
  var $toUpperCase = dartx.toUpperCase;
  var $forEach = dartx.forEach;
  var $toString = dartx.toString;
  dart._checkModuleNullSafetyMode(true);
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C1() {
      return C[1] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "rgb",
        [_Enum_index]: 0
      }, type_detector.ColorType.prototype));
    },
    get C2() {
      return C[2] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "hex",
        [_Enum_index]: 1
      }, type_detector.ColorType.prototype));
    },
    get C0() {
      return C[0] = dart.constList(dart_rti._Universe.eval(dart_rti._theUniverse(), "web__type_detector|ColorType", true), [C[1] || CT.C1, C[2] || CT.C2]);
    },
    get C4() {
      return C[4] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "main",
        [_Enum_index]: 0
      }, session_manager.AppSession.prototype));
    },
    get C5() {
      return C[5] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "loaded",
        [_Enum_index]: 1
      }, session_manager.AppSession.prototype));
    },
    get C3() {
      return C[3] = dart.constList(dart_rti._Universe.eval(dart_rti._theUniverse(), "web__session_manager|AppSession", true), [C[4] || CT.C4, C[5] || CT.C5]);
    }
  });
  var C = Array(6).fill(void 0);
  var I = [
    "org-dartlang-app:///web/loader.dart",
    "dart:_interceptors",
    "dart:core",
    "org-dartlang-app:///web/validator.dart",
    "org-dartlang-app:///web/color_extractor.dart",
    "org-dartlang-app:///web/type_detector.dart",
    "org-dartlang-app:///web/copy_clipboard.dart",
    "org-dartlang-app:///web/session_manager.dart"
  ];
  var mainContainer = dart.privateName(loader, "Loader.mainContainer");
  var _active = dart.privateName(loader, "_active");
  var _timerId = dart.privateName(loader, "_timerId");
  var _as = dart.privateName(dart_rti, "_as");
  loader.Loader = class Loader extends core.Object {
    get mainContainer() {
      return this[mainContainer];
    }
    set mainContainer(value) {
      super.mainContainer = value;
    }
    static ['_#new#tearOff'](mainContainer) {
      return new loader.Loader.new(mainContainer);
    }
    show() {
      if (this[_active]) return;
      this[_active] = true;
      let loadScreen = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("div"));
      loadScreen.className = "load-screen";
      dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](this.mainContainer.appendChild(loadScreen));
      let loadTxt = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("p"));
      let loadContent = "Loading Colors";
      loadTxt.id = "load-txt";
      loadTxt.textContent = loadContent;
      dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](loadScreen.appendChild(loadTxt));
      let ellipsisCount = 0;
      let timer = js_util._functionToJS0(dart.fn(() => {
        ellipsisCount = (ellipsisCount + 1)[$modulo](3 + 1);
        let dots = "."[$times](ellipsisCount);
        loadTxt.textContent = loadContent + dots;
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Null()", true)));
      this[_timerId] = dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "window").setInterval(timer, js_interop['NumToJSExtension|get#toJS'](30000)));
    }
    hide() {
      if (!this[_active]) return;
      let exLoadScreen = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](this.mainContainer.querySelector(".load-screen"));
      if (exLoadScreen != null) {
        if (this[_timerId] != null) js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "window").clearInterval(dart.nullCheck(this[_timerId]));
        exLoadScreen.remove();
      }
      this[_active] = false;
      this[_timerId] = null;
    }
    get isActive() {
      return this[_active];
    }
  };
  (loader.Loader.new = function(mainContainer$) {
    this[_active] = false;
    this[_timerId] = null;
    this[mainContainer] = mainContainer$;
    ;
  }).prototype = loader.Loader.prototype;
  dart.addRtiResources(loader.Loader, ["web__loader|Loader"]);
  dart.setMethodSignature(loader.Loader, () => dart.global.Object.setPrototypeOf({
    show: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "~()", true),
    hide: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "~()", true)
  }, dart.getMethods(dart.global.Object.getPrototypeOf(loader.Loader))));
  dart.setGetterSignature(loader.Loader, () => dart.global.Object.setPrototypeOf({
    isActive: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|bool", true)
  }, dart.getGetters(dart.global.Object.getPrototypeOf(loader.Loader))));
  dart.setLibraryUri(loader.Loader, I[0]);
  dart.setFieldSignature(loader.Loader, () => dart.global.Object.setPrototypeOf({
    mainContainer: {
      type: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true),
      isConst: false,
      isFinal: true,
      libraryUri: I[1]
    },
    [_active]: {
      type: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|bool", true),
      isConst: false,
      isFinal: false,
      libraryUri: I[2]
    },
    [_timerId]: {
      type: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int?", true),
      isConst: false,
      isFinal: false,
      libraryUri: I[2]
    }
  }, dart.getFields(dart.global.Object.getPrototypeOf(loader.Loader))));
  var _is = dart.privateName(dart_rti, "_is");
  validator.Validator = class Validator extends core.Object {
    static validateEmptyUrl(url) {
      if (url == null || url[$trim]()[$isEmpty]) return false;
      return true;
    }
    static validateUrlFormat(url) {
      if (url == null || url[$trim]()[$isEmpty]) return true;
      try {
        let uri = core.Uri.parse(url);
        if (!uri.hasAbsolutePath) return false;
      } catch (t$36$35e) {
        let e = dart.getThrown(t$36$35e);
        if (dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Object", true)[_is](e)) {
          return false;
        } else
          throw t$36$35e;
      }
      return true;
    }
    static validateImageUrl(url) {
      if (url == null || url[$trim]()[$isEmpty]) return true;
      return true;
    }
    static validateImageUrlInput(url) {
      let emptyValid = validator.Validator.validateEmptyUrl(url);
      if (emptyValid === false) return false;
      let formatValid = validator.Validator.validateUrlFormat(url);
      if (formatValid === false) return false;
      let imageValid = validator.Validator.validateImageUrl(url);
      if (imageValid === false) return false;
      return true;
    }
    static ['_#new#tearOff']() {
      return new validator.Validator.new();
    }
  };
  (validator.Validator.new = function() {
    ;
  }).prototype = validator.Validator.prototype;
  dart.addRtiResources(validator.Validator, ["web__validator|Validator"]);
  dart.setStaticMethodSignature(validator.Validator, () => ['validateEmptyUrl', 'validateUrlFormat', 'validateImageUrl', 'validateImageUrlInput']);
  dart.setLibraryUri(validator.Validator, I[3]);
  validator.ErrorHandler = class ErrorHandler extends core.Object {
    static showError(el) {
      if (el == null) return;
      js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), el, "classList").add("error");
    }
    static hideError(el) {
      let t$361, t$361$;
      if (el != null) js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), el, "classList").remove("error");
      t$361 = el;
      t$361 == null ? null : js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), t$361, "classList").remove("error");
      let listener = js_util._functionToJS1(dart.fn(event => {
        let t$361;
        t$361 = el;
        t$361 == null ? null : js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), t$361, "classList").remove("error");
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Null(_interceptors|JSObject)", true)));
      t$361$ = el;
      t$361$ == null ? null : t$361$.addEventListener("input", listener);
    }
    static ['_#new#tearOff']() {
      return new validator.ErrorHandler.new();
    }
  };
  (validator.ErrorHandler.new = function() {
    ;
  }).prototype = validator.ErrorHandler.prototype;
  dart.addRtiResources(validator.ErrorHandler, ["web__validator|ErrorHandler"]);
  dart.setStaticMethodSignature(validator.ErrorHandler, () => ['showError', 'hideError']);
  dart.setLibraryUri(validator.ErrorHandler, I[3]);
  var _buildRgb = dart.privateName(color_extractor, "_buildRgb");
  color_extractor.ColorExtractor = class ColorExtractor extends core.Object {
    extractColors(imageData) {
      let rgbValues = this[_buildRgb](imageData);
      let quantizedColors = color_extractor.quantization(rgbValues, 0);
      return quantizedColors[$map](dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Map<core|String,core|Object>", true), dart.fn(c => {
        let r = dart.nullCheck(c[$_get]("r"));
        let g = dart.nullCheck(c[$_get]("g"));
        let b = dart.nullCheck(c[$_get]("b"));
        return (() => {
          let t$361 = collection.LinkedHashMap.of(dart_rti._Universe.eval(dart_rti._theUniverse(), "collection|LinkedHashMap<core|String,core|Object>", true), c);
          t$361[$_set]("hex", this.rgbToHex(r, g, b));
          t$361[$_set]("rgbToString", "rgb(" + dart.strSafe(r) + ", " + dart.strSafe(g) + ", " + dart.strSafe(b) + ")");
          return t$361;
        })();
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Map<core|String,core|Object>(core|Map<core|String,core|int>)", true)))[$toList]();
    }
    rgbToHex(r, g, b) {
      return "#" + this.toHex(r) + this.toHex(g) + this.toHex(b);
    }
    toHex(colorComponent) {
      return colorComponent[$toRadixString](16)[$padLeft](2, "0");
    }
    [_buildRgb](imageData) {
      let rgbValues = _interceptors.JSArray.of(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSArray<core|Map<core|String,core|int>>", true), []);
      let data = core.List.from(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|List<core|int>", true), js_interop['JSUint8ClampedArrayToUint8ClampedList|get#toDart'](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_native_typed_data|NativeUint8ClampedList", true), imageData, "data")));
      for (let i = 0; i < data[$length]; i = i + 4) {
        rgbValues[$add](new _js_helper.IdentityMap.from(dart_rti._Universe.eval(dart_rti._theUniverse(), "_js_helper|IdentityMap<core|String,core|int>", true), ["r", data[$_get](i), "g", data[$_get](i + 1), "b", data[$_get](i + 2)]));
      }
      return rgbValues;
    }
    static ['_#new#tearOff']() {
      return new color_extractor.ColorExtractor.new();
    }
  };
  (color_extractor.ColorExtractor.new = function() {
    ;
  }).prototype = color_extractor.ColorExtractor.prototype;
  dart.addRtiResources(color_extractor.ColorExtractor, ["web__color_extractor|ColorExtractor"]);
  dart.setMethodSignature(color_extractor.ColorExtractor, () => dart.global.Object.setPrototypeOf({
    extractColors: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|List<core|Map<core|String,core|Object>>(_interceptors|JSObject)", true),
    rgbToHex: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|String(core|int,core|int,core|int)", true),
    toHex: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|String(core|int)", true),
    [_buildRgb]: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|List<core|Map<core|String,core|int>>(_interceptors|JSObject)", true)
  }, dart.getMethods(dart.global.Object.getPrototypeOf(color_extractor.ColorExtractor))));
  dart.setLibraryUri(color_extractor.ColorExtractor, I[4]);
  color_extractor.quantization = function quantization(rgbValues, depth) {
    if (depth === 4 || rgbValues[$isEmpty]) return _interceptors.JSArray.of(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSArray<core|Map<core|String,core|int>>", true), [color_extractor._calculateAverageColor(rgbValues)]);
    let componentToSortBy = color_extractor.findColorRange(rgbValues);
    rgbValues[$sort](dart.fn((a, b) => dart.nullCheck(a[$_get](componentToSortBy))[$compareTo](dart.nullCheck(b[$_get](componentToSortBy))), dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int(core|Map<core|String,core|int>,core|Map<core|String,core|int>)", true)));
    let mid = (rgbValues[$length] / 2)[$truncate]();
    return (() => {
      let t$362 = core.List.of(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|List<core|Map<core|String,core|int>>", true), color_extractor.quantization(rgbValues[$sublist](0, mid), depth + 1));
      t$362[$addAll](color_extractor.quantization(rgbValues[$sublist](mid), depth + 1));
      return t$362;
    })();
  };
  color_extractor._calculateAverageColor = function _calculateAverageColor(colors) {
    if (colors[$isEmpty]) return new _js_helper.IdentityMap.from(dart_rti._Universe.eval(dart_rti._theUniverse(), "_js_helper|IdentityMap<core|String,core|int>", true), ["r", 0, "g", 0, "b", 0]);
    let total = colors[$fold](dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Map<core|String,core|int>", true), new _js_helper.IdentityMap.from(dart_rti._Universe.eval(dart_rti._theUniverse(), "_js_helper|IdentityMap<core|String,core|int>", true), ["r", 0, "g", 0, "b", 0]), dart.fn((prev, curr) => new _js_helper.IdentityMap.from(dart_rti._Universe.eval(dart_rti._theUniverse(), "_js_helper|IdentityMap<core|String,core|int>", true), ["r", dart.nullCheck(prev[$_get]("r")) + dart.nullCheck(curr[$_get]("r")), "g", dart.nullCheck(prev[$_get]("g")) + dart.nullCheck(curr[$_get]("g")), "b", dart.nullCheck(prev[$_get]("b")) + dart.nullCheck(curr[$_get]("b"))]), dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Map<core|String,core|int>(core|Map<core|String,core|int>,core|Map<core|String,core|int>)", true)));
    return new _js_helper.IdentityMap.from(dart_rti._Universe.eval(dart_rti._theUniverse(), "_js_helper|IdentityMap<core|String,core|int>", true), ["r", (dart.nullCheck(total[$_get]("r")) / colors[$length])[$round](), "g", (dart.nullCheck(total[$_get]("g")) / colors[$length])[$round](), "b", (dart.nullCheck(total[$_get]("b")) / colors[$length])[$round]()]);
  };
  color_extractor.findColorRange = function findColorRange(rgbValues) {
    let rMin = 1.7976931348623157e+308[$toInt]();
    let gMin = 1.7976931348623157e+308[$toInt]();
    let bMin = 1.7976931348623157e+308[$toInt]();
    let rMax = (5e-324)[$toInt]();
    let gMax = (5e-324)[$toInt]();
    let bMax = (5e-324)[$toInt]();
    for (let pixel of rgbValues) {
      rMin = rMin < dart.nullCheck(pixel[$_get]("r")) ? rMin : dart.nullCheck(pixel[$_get]("r"));
      gMin = gMin < dart.nullCheck(pixel[$_get]("g")) ? gMin : dart.nullCheck(pixel[$_get]("g"));
      bMin = bMin < dart.nullCheck(pixel[$_get]("b")) ? bMin : dart.nullCheck(pixel[$_get]("b"));
      rMax = rMax > dart.nullCheck(pixel[$_get]("r")) ? rMax : dart.nullCheck(pixel[$_get]("r"));
      gMax = gMax > dart.nullCheck(pixel[$_get]("g")) ? gMax : dart.nullCheck(pixel[$_get]("g"));
      bMax = bMax > dart.nullCheck(pixel[$_get]("b")) ? bMax : dart.nullCheck(pixel[$_get]("b"));
    }
    let rRange = rMax - rMin;
    let gRange = gMax - gMin;
    let bRange = bMax - bMin;
    let range = _interceptors.JSArray.of(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSArray<core|int>", true), [rRange, gRange, bRange])[$reduce](dart.fn((a, b) => a > b ? a : b, dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int(core|int,core|int)", true)));
    if (range === rRange) return "r";
    if (range === gRange) return "g";
    return "b";
  };
  var _name = dart.privateName(core, "_name");
  var _enumToString = dart.privateName(core, "_enumToString");
  var _Enum__name = dart.privateName(core, "_Enum._name");
  var _Enum_index = dart.privateName(core, "_Enum.index");
  type_detector.ColorType = class ColorType extends core._Enum {
    [_enumToString]() {
      return "ColorType." + this[_name];
    }
  };
  (type_detector.ColorType.new = function(t$36$35index, t$36$35name) {
    dart.global.Object.getPrototypeOf(type_detector.ColorType).new.call(this, t$36$35index, t$36$35name);
    ;
  }).prototype = type_detector.ColorType.prototype;
  dart.addRtiResources(type_detector.ColorType, ["web__type_detector|ColorType"]);
  dart.setMethodSignature(type_detector.ColorType, () => dart.global.Object.setPrototypeOf({
    [_enumToString]: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|String()", true)
  }, dart.getMethods(dart.global.Object.getPrototypeOf(type_detector.ColorType))));
  dart.setLibraryUri(type_detector.ColorType, I[5]);
  dart.setStaticFieldSignature(type_detector.ColorType, () => ['values', 'rgb', 'hex']);
  dart.defineLazy(type_detector.ColorType, {
    /*type_detector.ColorType.values*/get values() {
      return C[0] || CT.C0;
    },
    /*type_detector.ColorType.rgb*/get rgb() {
      return C[1] || CT.C1;
    },
    /*type_detector.ColorType.hex*/get hex() {
      return C[2] || CT.C2;
    }
  });
  type_detector.TypeDetector = class TypeDetector extends core.Object {
    static detectType(colorText) {
      let text = colorText[$trim]();
      if (core.RegExp.new("^rgb\\((\\d{1,3}%?,\\s*){2}\\d{1,3}%?\\)$").hasMatch(text)) return type_detector.ColorType.rgb;
      if (core.RegExp.new("^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$").hasMatch(text)) return type_detector.ColorType.hex;
      dart.throw(new core.FormatException.new("Invalid color format: " + colorText));
    }
    static getTypeName(type) {
      return dart.toString(type)[$split](".")[$last][$toUpperCase]();
    }
    static ['_#new#tearOff']() {
      return new type_detector.TypeDetector.new();
    }
  };
  (type_detector.TypeDetector.new = function() {
    ;
  }).prototype = type_detector.TypeDetector.prototype;
  dart.addRtiResources(type_detector.TypeDetector, ["web__type_detector|TypeDetector"]);
  dart.setStaticMethodSignature(type_detector.TypeDetector, () => ['detectType', 'getTypeName']);
  dart.setLibraryUri(type_detector.TypeDetector, I[5]);
  copy_clipboard.ClipboardManager = class ClipboardManager extends core.Object {
    static setupCopy() {
      if (copy_clipboard.ClipboardManager.init) return;
      copy_clipboard.ClipboardManager.init = true;
    }
    static copyToClipboard(text) {
      let t$goto = 0, t$completer = async._makeAsyncAwaitCompleter(dart_rti._Universe.eval(dart_rti._theUniverse(), "~", true)), asyncScope = Object.create(null);
      var t$36asynccopyToClipboard = async._wrapJsFunctionForAsync((t$errorCode, t$result) => {
        if (t$errorCode === 1) return async._asyncRethrow(t$result, t$completer);
        while (true)
          switch (t$goto) {
            case 0:
              // Function start
              if (!copy_clipboard.ClipboardManager.init) copy_clipboard.ClipboardManager.setupCopy();
              try {
                dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "window"), "navigator"), "clipboard").writeText(text));
              } catch (t$36$35e) {
                asyncScope.e = dart.getThrown(t$36$35e);
                if (dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Object", true)[_is](asyncScope.e))
                  core.print("Failed to Copy " + dart.str(asyncScope.e));
                else
                  throw t$36$35e;
              }
              // implicit return
              return async._asyncReturn(null, t$completer);
          }
      });
      return async._asyncStartSync(t$36asynccopyToClipboard, t$completer);
    }
    static setupCopyButtons(paletteContent) {
      copy_clipboard.ClipboardManager.setupCopy();
      let colorEl = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](paletteContent.querySelectorAll("[data-color-value]"));
      for (let i = 0; i < js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), colorEl, "length"); i = i + 1) {
        let el = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](colorEl.item(i));
        if (el == null) continue;
        copy_clipboard.ClipboardManager.setupCopyBtnEl(el);
      }
    }
    static setupCopyBtnEl(el) {
      let t$366, t$366$, t$366$0;
      let wrapper = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("div"));
      wrapper.className = "wrapper";
      let container = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("div"));
      container.id = "-container-copy-btn";
      let copyBtn = (t$366 = html['HTMLButtonElement|constructor#'](), (() => {
        t$366.id = "--copy-button";
        js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), t$366, "style").display = "none";
        t$366.setAttribute("data-action", "copy");
        return t$366;
      })());
      let colorText = (t$366$ = js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|String?", true), el, "textContent"), t$366$ == null ? "" : t$366$);
      let colorType = type_detector.TypeDetector.detectType(colorText);
      copy_clipboard.ClipboardManager.configCopyBtn(copyBtn, colorType);
      copy_clipboard.ClipboardManager.setupBtn(copyBtn, colorText);
      t$366$0 = js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true), el, "parentNode");
      t$366$0 == null ? null : dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](t$366$0.insertBefore(wrapper, el));
      dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](wrapper.appendChild(el));
      dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](wrapper.appendChild(container));
      dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](container.appendChild(copyBtn));
      events['ElementEventGetters|get#onMouseEnter'](wrapper).listen(dart.fn(_$35wc0$35formal => {
        js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), copyBtn, "classList").remove("hide-copy-btn");
        js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), copyBtn, "classList").add("show-copy-btn");
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "~(_interceptors|JSObject)", true)));
      events['ElementEventGetters|get#onMouseLeave'](wrapper).listen(dart.fn(_$35wc1$35formal => {
        js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), copyBtn, "classList").remove("show-copy-btn");
        js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), copyBtn, "classList").add("hide-copy-btn");
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "~(_interceptors|JSObject)", true)));
    }
    static configCopyBtn(button, type) {
      button.textContent = "Copy " + type_detector.TypeDetector.getTypeName(type);
      button.setAttribute("data-action", dart.toString(type));
      js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), button, "classList").add("color-type-" + dart.toString(type)[$split](".")[$last]);
    }
    static setupBtn(button, text) {
      events['ElementEventGetters|get#onClick'](button).listen(dart.fn(_$35wc0$35formal => {
        let t$goto = 0, t$completer = async._makeAsyncAwaitCompleter(dart_rti._Universe.eval(dart_rti._theUniverse(), "~", true)), asyncScope = Object.create(null);
        var t$36asyncBody = async._wrapJsFunctionForAsync((t$errorCode, t$result) => {
          if (t$errorCode === 1) return async._asyncRethrow(t$result, t$completer);
          while (true)
            switch (t$goto) {
              case 0:
                // Function start
                t$goto = 2;
                return async._asyncAwait(copy_clipboard.ClipboardManager.copyToClipboard(text), t$36asyncBody, t$completer);
              case 2:
                // returning from await.
                asyncScope.originalText = js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|String?", true), button, "textContent");
                button.textContent = "Copied";
                js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), button, "classList").add("copied");
                t$goto = 3;
                return async._asyncAwait(async.Future.delayed(dart_rti._Universe.eval(dart_rti._theUniverse(), "async|Future<@>", true), new core.Duration.new({seconds: 2})), t$36asyncBody, t$completer);
              case 3:
                // returning from await.
                button.textContent = asyncScope.originalText;
                js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), button, "classList").remove("copied");
                // implicit return
                return async._asyncReturn(null, t$completer);
            }
        });
        return async._asyncStartSync(t$36asyncBody, t$completer);
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "async|Future<~>(_interceptors|JSObject)", true)));
    }
    static ['_#new#tearOff']() {
      return new copy_clipboard.ClipboardManager.new();
    }
  };
  (copy_clipboard.ClipboardManager.new = function() {
    ;
  }).prototype = copy_clipboard.ClipboardManager.prototype;
  dart.addRtiResources(copy_clipboard.ClipboardManager, ["web__copy_clipboard|ClipboardManager"]);
  dart.setStaticMethodSignature(copy_clipboard.ClipboardManager, () => ['setupCopy', 'copyToClipboard', 'setupCopyButtons', 'setupCopyBtnEl', 'configCopyBtn', 'setupBtn']);
  dart.setLibraryUri(copy_clipboard.ClipboardManager, I[6]);
  dart.setStaticFieldSignature(copy_clipboard.ClipboardManager, () => ['init']);
  dart.defineLazy(copy_clipboard.ClipboardManager, {
    /*copy_clipboard.ClipboardManager.init*/get init() {
      return false;
    },
    set init(value) {}
  });
  session_manager.AppSession = class AppSession extends core._Enum {
    [_enumToString]() {
      return "AppSession." + this[_name];
    }
  };
  (session_manager.AppSession.new = function(t$36$35index, t$36$35name) {
    dart.global.Object.getPrototypeOf(session_manager.AppSession).new.call(this, t$36$35index, t$36$35name);
    ;
  }).prototype = session_manager.AppSession.prototype;
  dart.addRtiResources(session_manager.AppSession, ["web__session_manager|AppSession"]);
  dart.setMethodSignature(session_manager.AppSession, () => dart.global.Object.setPrototypeOf({
    [_enumToString]: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|String()", true)
  }, dart.getMethods(dart.global.Object.getPrototypeOf(session_manager.AppSession))));
  dart.setLibraryUri(session_manager.AppSession, I[7]);
  dart.setStaticFieldSignature(session_manager.AppSession, () => ['values', 'main', 'loaded']);
  dart.defineLazy(session_manager.AppSession, {
    /*session_manager.AppSession.values*/get values() {
      return C[3] || CT.C3;
    },
    /*session_manager.AppSession.main*/get main() {
      return C[4] || CT.C4;
    },
    /*session_manager.AppSession.loaded*/get loaded() {
      return C[5] || CT.C5;
    }
  });
  var _sessionContainers = dart.privateName(session_manager, "_sessionContainers");
  var _currentSession = dart.privateName(session_manager, "_currentSession");
  session_manager.SessionManager = class SessionManager extends core.Object {
    static ['_#new#tearOff'](_sessionContainers, opts) {
      let initialSession = opts && 'initialSession' in opts ? opts.initialSession : null;
      return new session_manager.SessionManager.new(_sessionContainers, {initialSession: initialSession});
    }
    changeSession(session) {
      if (this[_currentSession] === session) return;
      this[_currentSession] = session;
      this.updateSession();
    }
    updateSession() {
      this[_sessionContainers][$forEach](dart.fn((s, c) => {
        if (s === this[_currentSession]) {
          js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), c, "classList").add("session-active");
          js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), c, "classList").remove("session-inactive");
        } else {
          js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), c, "classList").add("session-inactive");
          js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), c, "classList").remove("session-active");
        }
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "~(web__session_manager|AppSession,_interceptors|JSObject)", true)));
    }
  };
  (session_manager.SessionManager.new = function(_sessionContainers$, opts) {
    let initialSession = opts && 'initialSession' in opts ? opts.initialSession : null;
    this[_sessionContainers] = _sessionContainers$;
    this[_currentSession] = initialSession;
    this.updateSession();
  }).prototype = session_manager.SessionManager.prototype;
  dart.addRtiResources(session_manager.SessionManager, ["web__session_manager|SessionManager"]);
  dart.setMethodSignature(session_manager.SessionManager, () => dart.global.Object.setPrototypeOf({
    changeSession: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "~(web__session_manager|AppSession)", true),
    updateSession: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "~()", true)
  }, dart.getMethods(dart.global.Object.getPrototypeOf(session_manager.SessionManager))));
  dart.setLibraryUri(session_manager.SessionManager, I[7]);
  dart.setFieldSignature(session_manager.SessionManager, () => dart.global.Object.setPrototypeOf({
    [_sessionContainers]: {
      type: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Map<web__session_manager|AppSession,_interceptors|JSObject>", true),
      isConst: false,
      isFinal: true,
      libraryUri: I[2]
    },
    [_currentSession]: {
      type: _ti => dart_rti._Universe.eval(dart_rti._theUniverse(), "web__session_manager|AppSession", true),
      isConst: false,
      isFinal: false,
      libraryUri: I[7]
    }
  }, dart.getFields(dart.global.Object.getPrototypeOf(session_manager.SessionManager))));
  main.main = function main$() {
    let extractor = new color_extractor.ColorExtractor.new();
    canvas_image.setupEventListeners(extractor);
    main.redirect();
    main.setFavicon("/assets/icon/favicon.ico");
  };
  main.redirect = function redirect() {
    let mtxt = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").getElementById("-m-txt")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
    events['ElementEventGetters|get#onClick'](mtxt).listen(dart.fn(e => js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "window"), "location").assign("/"), dart_rti._Universe.eval(dart_rti._theUniverse(), "~(_interceptors|JSObject)", true)));
  };
  main.setFavicon = function setFavicon(path) {
    let t$368;
    let oldFavicon = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").querySelector("link[rel=\"icon\"]"));
    if (oldFavicon != null) oldFavicon.remove();
    let favicon = (t$368 = html['HTMLLinkElement|constructor#'](), (() => {
      t$368.rel = "icon";
      t$368.href = path;
      t$368.type = "image/x-icon";
      return t$368;
    })());
    dart.nullCheck(js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true), js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document"), "head")).append(favicon);
  };
  canvas_image.setupEventListeners = function setupEventListeners(extractor) {
    let t$368;
    let mainContainer = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").querySelector(".main")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
    let canvas = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("canvas"));
    canvas.id = "__canvas-img";
    let ctx = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](canvas.getContext("2d")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
    let img = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("img"));
    let containerCanvas = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").getElementById("_content-canvas")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
    let paletteContent = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").getElementById("_content-palette")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
    let fileInput = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").getElementById("--input-file-img"));
    let urlForm = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").getElementById("-url-form")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
    let urlInput = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").getElementById("---input-url-img")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
    let uploadSession = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").getElementById("-for-img")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
    let loadedSession = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").getElementById("-for-loaded-img")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
    let sessionManager = new session_manager.SessionManager.new(new _js_helper.LinkedMap.from(dart_rti._Universe.eval(dart_rti._theUniverse(), "_js_helper|LinkedMap<web__session_manager|AppSession,_interceptors|JSObject>", true), [session_manager.AppSession.main, uploadSession, session_manager.AppSession.loaded, loadedSession]), {initialSession: session_manager.AppSession.main});
    copy_clipboard.ClipboardManager.setupCopy();
    function displayColors(colors, paletteContent) {
      let t$368, t$368$;
      paletteContent.innerHTML = "";
      for (let color of colors) {
        let colorItemContainer = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("div"));
        colorItemContainer.id = "_content-color-display";
        let colorDiv = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("div"));
        colorDiv.id = "__color-div";
        js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), colorDiv, "style").backgroundColor = "rgb(" + dart.str(color[$_get]("r")) + ", " + dart.str(color[$_get]("g")) + ", " + dart.str(color[$_get]("b")) + ")";
        let colorInfoContainer = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("div"));
        colorInfoContainer.id = "__content-color-type";
        let rgbString = dart_rti._Universe.eval(dart_rti._theUniverse(), "core|String", true)[_as](color[$_get]("rgbToString"));
        let hex = dart_rti._Universe.eval(dart_rti._theUniverse(), "core|String", true)[_as](color[$_get]("hex"));
        let colorRgbText = (t$368 = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("p")), (() => {
          t$368.id = "___color-rgb-text";
          t$368.textContent = rgbString;
          t$368.setAttribute("data-color-value", rgbString);
          return t$368;
        })());
        let colorHexText = (t$368$ = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("p")), (() => {
          t$368$.id = "___color-hex-text";
          t$368$.textContent = hex;
          t$368$.setAttribute("data-color-value", hex);
          return t$368$;
        })());
        dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](colorInfoContainer.appendChild(colorRgbText));
        dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](colorInfoContainer.appendChild(colorHexText));
        dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](colorItemContainer.appendChild(colorDiv));
        dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](colorItemContainer.appendChild(colorInfoContainer));
        dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](paletteContent.appendChild(colorItemContainer));
      }
      copy_clipboard.ClipboardManager.setupCopyButtons(paletteContent);
    }
    dart.fn(displayColors, dart_rti._Universe.eval(dart_rti._theUniverse(), "~(core|List<core|Map<core|String,@>>,_interceptors|JSObject)", true));
    function processImage(img) {
      let t$368;
      t$368 = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](containerCanvas.querySelector("#---canvas-img"));
      t$368 == null ? null : t$368.remove();
      let scaleFactor = 1.0;
      if (js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), img, "width") > 600 || js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), img, "height") > 800) {
        scaleFactor = math.min(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|double", true), 600 / js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), img, "width"), 800 / js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), img, "height"));
        let finalWidth = js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), img, "width") * scaleFactor;
        let finalHeight = js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), img, "height") * scaleFactor;
        canvas.width = finalWidth[$toInt]();
        canvas.height = finalHeight[$toInt]();
        js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), containerCanvas, "style").width = dart.strSafe(finalWidth) + "px";
        js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), containerCanvas, "style").height = dart.strSafe(finalHeight) + "px";
        ctx.clearRect(0, 0, js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), canvas, "width"), js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), canvas, "height"));
      }
      js_util.callMethod(dart_rti._Universe.eval(dart_rti._theUniverse(), "~", true), ctx, "drawImage", [img, 0, 0, js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), canvas, "width"), js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), canvas, "height")]);
      dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](containerCanvas.appendChild(canvas));
      let data = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](ctx.getImageData(0, 0, js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), canvas, "width"), js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), canvas, "height")));
      let colors = extractor.extractColors(data);
      displayColors(colors, paletteContent);
    }
    dart.fn(processImage, dart_rti._Universe.eval(dart_rti._theUniverse(), "~(_interceptors|JSObject)", true));
    let loader$ = new loader.Loader.new(mainContainer);
    function showLoader() {
      loader$.show();
      sessionManager.changeSession(session_manager.AppSession.main);
    }
    dart.fn(showLoader, dart_rti._Universe.eval(dart_rti._theUniverse(), "~()", true));
    function displayContainer() {
      loader$.hide();
      sessionManager.changeSession(session_manager.AppSession.loaded);
      function backBtn() {
        let t$368;
        let backContent = dart.nullCast(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").getElementById("_content-back")), dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true));
        t$368 = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](backContent.querySelector("#---back-btn"));
        t$368 == null ? null : t$368.remove();
        let backBtn = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("button"));
        backBtn.id = "---back-btn";
        backBtn.textContent = "Back";
        function resetState() {
          let t$368;
          ctx.clearRect(0, 0, js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), canvas, "width"), js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), canvas, "height"));
          t$368 = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](containerCanvas.querySelector("#---canvas-img"));
          t$368 == null ? null : t$368.remove();
          img = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true), dart.global, "document").createElement("img"));
          sessionManager.changeSession(session_manager.AppSession.main);
          if (fileInput != null) fileInput.value = "";
          urlInput.value = "";
          loader$.hide();
        }
        dart.fn(resetState, dart_rti._Universe.eval(dart_rti._theUniverse(), "~()", true));
        events['ElementEventGetters|get#onClick'](backBtn).listen(dart.fn(_$35wc0$35formal => resetState(), dart_rti._Universe.eval(dart_rti._theUniverse(), "~(_interceptors|JSObject)", true)));
        dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](backContent.appendChild(backBtn));
      }
      dart.fn(backBtn, dart_rti._Universe.eval(dart_rti._theUniverse(), "~()", true));
      backBtn();
    }
    dart.fn(displayContainer, dart_rti._Universe.eval(dart_rti._theUniverse(), "~()", true));
    function displayImage(img, opts) {
      let url = opts && 'url' in opts ? opts.url : null;
      let loadListener = js_util._functionToJS1(dart.fn(_$35wc1$35formal => {
        if (js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), img, "width") > 0 && js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|int", true), img, "height") > 0) {
          processImage(img);
          displayContainer();
        }
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Null(_interceptors|JSObject)", true)));
      let errorListener = js_util._functionToJS1(dart.fn(_$35wc2$35formal => {
        core.print("Error loading image");
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Null(_interceptors|JSObject)", true)));
      img.removeEventListener("load", loadListener);
      img.removeEventListener("error", errorListener);
      img.addEventListener("load", loadListener);
      img.addEventListener("error", errorListener);
      if (url != null) {
        let cacheBuster = new core.DateTime.now().millisecondsSinceEpoch;
        img.src = dart.str(url) + "?cache=" + dart.strSafe(cacheBuster);
      }
    }
    dart.fn(displayImage, dart_rti._Universe.eval(dart_rti._theUniverse(), "~(_interceptors|JSObject{url:core|String?})", true));
    t$368 = fileInput;
    t$368 == null ? null : events['ElementEventGetters|get#onChange'](t$368).listen(dart.fn(e => {
      let t$369;
      let file = (t$369 = js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true), fileInput, "files"), t$369 == null ? null : dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject?", true)[_as](t$369.item(0)));
      if (file == null) return;
      showLoader();
      let reader = dart_rti._Universe.eval(dart_rti._theUniverse(), "_interceptors|JSObject", true)[_as](new dart.global.FileReader());
      events['FileReaderEventGEtters|get#onLoadEnd'](reader).listen(dart.fn(e => {
        img.src = dart.toString(dart.nullCast(js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Object?", true), reader, "result"), dart_rti._Universe.eval(dart_rti._theUniverse(), "core|Object", true)));
        displayImage(img);
      }, dart_rti._Universe.eval(dart_rti._theUniverse(), "~(_interceptors|JSObject)", true)));
      reader.readAsDataURL(file);
    }, dart_rti._Universe.eval(dart_rti._theUniverse(), "~(_interceptors|JSObject)", true)));
    events['ElementEventGetters|get#onSubmit'](urlForm).listen(dart.fn(e => {
      e.preventDefault();
      let url = js_util.getProperty(dart_rti._Universe.eval(dart_rti._theUniverse(), "core|String", true), urlInput, "value")[$trim]();
      validator.ErrorHandler.hideError(urlInput);
      let validateError = validator.Validator.validateImageUrlInput(url);
      if (!validateError) {
        validator.ErrorHandler.showError(urlInput);
        return;
      }
      showLoader();
      img.crossOrigin = "Anonymous";
      displayImage(img);
      img.src = url;
    }, dart_rti._Universe.eval(dart_rti._theUniverse(), "~(_interceptors|JSObject)", true)));
  };
  dart.moduleConstCaches.set("web/canvas_image", C);
  dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"core|int":{"core|num":[],"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|num":{"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|Comparable":{"Comparable.T":"1"},"core|String":{"Comparable.T":"core|String","core|Comparable":["core|String"],"core|Pattern":[]},"core|Map":{"Map.K":"1","Map.V":"2"},"collection|LinkedHashMap":{"LinkedHashMap.K":"1","LinkedHashMap.V":"2","Map.K":"1","Map.V":"2","core|Map":["1","2"]},"_interceptors|JSArray":{"JSArray.E":"1","_interceptors|JavaScriptObject":[],"List.E":"1","core|List":["1"],"JSIndexable.E":"1","_interceptors|JSIndexable":["1"],"_js_helper|TrustedGetRuntimeType":[],"_interceptors|Interceptor":[],"_interceptors|JSObject":[],"Iterable.E":"1","core|Iterable":["1"],"_ListIterable.E":"1","core|_ListIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"_interceptors|JavaScriptObject":{"_interceptors|Interceptor":[],"_interceptors|JSObject":[]},"core|List":{"List.E":"1","Iterable.E":"1","core|Iterable":["1"],"_ListIterable.E":"1","core|_ListIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"_interceptors|JSIndexable":{"JSIndexable.E":"1"},"core|Iterable":{"Iterable.E":"1"},"core|_ListIterable":{"_ListIterable.E":"1","EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"],"Iterable.E":"1","core|Iterable":["1"]},"_internal|EfficientLengthIterable":{"EfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"_internal|HideEfficientLengthIterable":{"HideEfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"_native_typed_data|NativeUint8ClampedList":{"_native_typed_data|NativeTypedArrayOfInt":[],"typed_data|Uint8ClampedList":[],"List.E":"core|int","core|List":["core|int"],"typed_data|_TypedIntList":[],"FixedLengthListMixin.E":"core|int","_internal|FixedLengthListMixin":["core|int"],"Iterable.E":"core|int","core|Iterable":["core|int"],"_ListIterable.E":"core|int","core|_ListIterable":["core|int"],"TypedDataList.E":"core|int","typed_data|TypedDataList":["core|int"],"NativeTypedArray.E":"core|int","_native_typed_data|NativeTypedArray":["core|int"],"ListBase.E":"core|int","collection|ListBase":["core|int"],"EfficientLengthIterable.T":"core|int","_internal|EfficientLengthIterable":["core|int"],"HideEfficientLengthIterable.T":"core|int","_internal|HideEfficientLengthIterable":["core|int"],"typed_data|TypedData":[],"_native_typed_data|NativeTypedData":[],"JavaScriptIndexingBehavior.E":"core|int","_js_helper|JavaScriptIndexingBehavior":["core|int"],"_interceptors|JavaScriptObject":[],"JSMutableIndexable.E":"core|int","_interceptors|JSMutableIndexable":["core|int"],"_interceptors|Interceptor":[],"_interceptors|JSObject":[],"JSIndexable.E":"core|int","_interceptors|JSIndexable":["core|int"]},"_native_typed_data|NativeTypedArrayOfInt":{"List.E":"core|int","core|List":["core|int"],"FixedLengthListMixin.E":"core|int","_internal|FixedLengthListMixin":["core|int"],"Iterable.E":"core|int","core|Iterable":["core|int"],"_ListIterable.E":"core|int","core|_ListIterable":["core|int"],"NativeTypedArray.E":"core|int","_native_typed_data|NativeTypedArray":["core|int"],"ListBase.E":"core|int","collection|ListBase":["core|int"],"EfficientLengthIterable.T":"core|int","_internal|EfficientLengthIterable":["core|int"],"HideEfficientLengthIterable.T":"core|int","_internal|HideEfficientLengthIterable":["core|int"],"_native_typed_data|NativeTypedData":[],"JavaScriptIndexingBehavior.E":"core|int","_js_helper|JavaScriptIndexingBehavior":["core|int"],"_interceptors|JavaScriptObject":[],"typed_data|TypedData":[],"JSMutableIndexable.E":"core|int","_interceptors|JSMutableIndexable":["core|int"],"_interceptors|Interceptor":[],"_interceptors|JSObject":[],"JSIndexable.E":"core|int","_interceptors|JSIndexable":["core|int"]},"typed_data|Uint8ClampedList":{"typed_data|_TypedIntList":[],"TypedDataList.E":"core|int","typed_data|TypedDataList":["core|int"],"typed_data|TypedData":[],"List.E":"core|int","core|List":["core|int"],"Iterable.E":"core|int","core|Iterable":["core|int"],"_ListIterable.E":"core|int","core|_ListIterable":["core|int"],"EfficientLengthIterable.T":"core|int","_internal|EfficientLengthIterable":["core|int"],"HideEfficientLengthIterable.T":"core|int","_internal|HideEfficientLengthIterable":["core|int"]},"typed_data|_TypedIntList":{"TypedDataList.E":"core|int","typed_data|TypedDataList":["core|int"],"typed_data|TypedData":[],"List.E":"core|int","core|List":["core|int"],"Iterable.E":"core|int","core|Iterable":["core|int"],"_ListIterable.E":"core|int","core|_ListIterable":["core|int"],"EfficientLengthIterable.T":"core|int","_internal|EfficientLengthIterable":["core|int"],"HideEfficientLengthIterable.T":"core|int","_internal|HideEfficientLengthIterable":["core|int"]},"_internal|FixedLengthListMixin":{"FixedLengthListMixin.E":"1"},"typed_data|TypedDataList":{"TypedDataList.E":"1","typed_data|TypedData":[],"List.E":"1","core|List":["1"],"Iterable.E":"1","core|Iterable":["1"],"_ListIterable.E":"1","core|_ListIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"_native_typed_data|NativeTypedArray":{"NativeTypedArray.E":"1","_native_typed_data|NativeTypedData":[],"JavaScriptIndexingBehavior.E":"1","_js_helper|JavaScriptIndexingBehavior":["1"],"_interceptors|JavaScriptObject":[],"typed_data|TypedData":[],"JSMutableIndexable.E":"1","_interceptors|JSMutableIndexable":["1"],"_interceptors|Interceptor":[],"_interceptors|JSObject":[],"JSIndexable.E":"1","_interceptors|JSIndexable":["1"]},"collection|ListBase":{"ListBase.E":"1","List.E":"1","core|List":["1"],"Iterable.E":"1","core|Iterable":["1"],"_ListIterable.E":"1","core|_ListIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"_native_typed_data|NativeTypedData":{"_interceptors|JavaScriptObject":[],"typed_data|TypedData":[],"_interceptors|Interceptor":[],"_interceptors|JSObject":[]},"_js_helper|JavaScriptIndexingBehavior":{"JavaScriptIndexingBehavior.E":"1","JSMutableIndexable.E":"1","_interceptors|JSMutableIndexable":["1"],"JSIndexable.E":"1","_interceptors|JSIndexable":["1"]},"_interceptors|JSMutableIndexable":{"JSMutableIndexable.E":"1","JSIndexable.E":"1","_interceptors|JSIndexable":["1"]},"_js_helper|IdentityMap":{"IdentityMap.K":"1","IdentityMap.V":"2","InternalMap.K":"1","InternalMap.V":"2","_js_helper|InternalMap":["1","2"],"MapBase.K":"1","MapBase.V":"2","collection|MapBase":["1","2"],"LinkedHashMap.K":"1","LinkedHashMap.V":"2","collection|LinkedHashMap":["1","2"],"HashMap.K":"1","HashMap.V":"2","collection|HashMap":["1","2"],"Map.K":"1","Map.V":"2","core|Map":["1","2"]},"_js_helper|InternalMap":{"InternalMap.K":"1","InternalMap.V":"2","MapBase.K":"1","MapBase.V":"2","collection|MapBase":["1","2"],"LinkedHashMap.K":"1","LinkedHashMap.V":"2","collection|LinkedHashMap":["1","2"],"HashMap.K":"1","HashMap.V":"2","collection|HashMap":["1","2"],"Map.K":"1","Map.V":"2","core|Map":["1","2"]},"collection|MapBase":{"MapBase.K":"1","MapBase.V":"2","Map.K":"1","Map.V":"2","core|Map":["1","2"]},"collection|HashMap":{"HashMap.K":"1","HashMap.V":"2","Map.K":"1","Map.V":"2","core|Map":["1","2"]},"web__type_detector|ColorType":{"core|_Enum":[],"core|Enum":[]},"core|_Enum":{"core|Enum":[]},"async|Future":{"Future.T":"1"},"web__session_manager|AppSession":{"core|_Enum":[],"core|Enum":[]},"_js_helper|LinkedMap":{"LinkedMap.K":"1","LinkedMap.V":"2","InternalMap.K":"1","InternalMap.V":"2","_js_helper|InternalMap":["1","2"],"MapBase.K":"1","MapBase.V":"2","collection|MapBase":["1","2"],"LinkedHashMap.K":"1","LinkedHashMap.V":"2","collection|LinkedHashMap":["1","2"],"HashMap.K":"1","HashMap.V":"2","collection|HashMap":["1","2"],"Map.K":"1","Map.V":"2","core|Map":["1","2"]},"core|double":{"core|num":[],"Comparable.T":"core|num","core|Comparable":["core|num"]}}'));
  dart.trackLibraries("web/canvas_image", {
    "org-dartlang-app:///web/loader.dart": loader,
    "org-dartlang-app:///web/validator.dart": validator,
    "org-dartlang-app:///web/color_extractor.dart": color_extractor,
    "org-dartlang-app:///web/type_detector.dart": type_detector,
    "org-dartlang-app:///web/copy_clipboard.dart": copy_clipboard,
    "org-dartlang-app:///web/session_manager.dart": session_manager,
    "org-dartlang-app:///web/main.dart": main,
    "org-dartlang-app:///web/canvas_image.dart": canvas_image
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["loader.dart","validator.dart","color_extractor.dart","type_detector.dart","copy_clipboard.dart","session_manager.dart","main.dart","canvas_image.dart"],"names":[],"mappings":"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","file":"canvas_image.ddc.js"}');
  // Exports:
  return {
    web__loader: loader,
    web__validator: validator,
    web__color_extractor: color_extractor,
    web__type_detector: type_detector,
    web__copy_clipboard: copy_clipboard,
    web__session_manager: session_manager,
    web__main: main,
    web__canvas_image: canvas_image
  };
}));

//# sourceMappingURL=canvas_image.ddc.js.map
